{"title":"绑定界面动资源画动态替换","uid":"facfeaeeff317a7e3563decfd5c43a5a","slug":"public-bind","date":"2016-05-10T22:35:25.000Z","updated":"2022-02-18T10:17:38.000Z","comments":true,"path":"api/articles/public-bind.json","cover":[],"content":"<p>由于公共模块绑定满足不了TOB项目以及其他项目特殊需求，现对公共模块绑定界面的资源做成可配置，本文介绍一下哪些资源可配置以及如何配置。</p>\n<span id=\"more\"></span>\n<h3 id=\"颜色配置\"><a href=\"#颜色配置\" class=\"headerlink\" title=\"颜色配置\"></a>颜色配置</h3><p>  颜色的配置需要在<strong>res/values，res/values-v14，res/values-v19，res/values-v21</strong>等目录下新建<br>  <font color=\"red\" face=\"黑体\" size=\"4\">color.xml</font>。<br>  color.xml内容如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"title_bar_bg_color\"&gt;#FFFF4444&lt;/color&gt;\n&lt;/resources&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>  目录结构如图1所示</p>\n<img src=\"/post/public-bind/values.png\" class=\"\" title=\"img1\">\n<p><strong>图1</strong></p>\n<p><strong>1.标题颜</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"title_bar_bg_color\"&gt;填入需要配置的颜色值（#FFFF0000）&lt;/color&gt;\n&lt;/resources&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>2.子分类列表背景色</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;color name=\"color_app_themes\"&gt;填入需要配置的颜色值（#FFFF0000）&lt;/color&gt;\n&lt;/resources&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"绑定动画配置\"><a href=\"#绑定动画配置\" class=\"headerlink\" title=\"绑定动画配置\"></a>绑定动画配置</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>在主工程<strong>res/drawable</strong>下分别新建<strong>bind_scanning_anim.xml、bind_bouding_anim.xml、bind_failed_anim.xml、bind_sucess_anim.xml</strong>资源文件；</p></blockquote>\n<p>1.<strong>“扫描中“动画</strong>（bind_scanning_anim.xml），代码如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n    根标签为animation-list，其中oneshot代表着是否只展示一遍，设置为false会不停的循环播放动画\n    根标签下，通过item标签对动画中的每一个图片进行声明\n    android:duration 表示展示所用的该图片的时间长度\n    \n --&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n    &lt;item\n        android:drawable=\"@drawable/scan1\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/scan2\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n&lt;/animation-list&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>扫描中 使用帧动画，默认配置中两帧，即：scan1.png和scan2.png</li>\n<li>图片分辨率:201x307</li>\n</ul>\n<p>2.<strong>绑定中 动画</strong>（bind_bouding_anim.xml），代码如下:</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n    根标签为animation-list，其中oneshot代表着是否只展示一遍，设置为false会不停的循环播放动画\n    根标签下，通过item标签对动画中的每一个图片进行声明\n    android:duration 表示展示所用的该图片的时间长度\n --&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n    &lt;item\n        android:drawable=\"@drawable/bouding1\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/bouding2\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/bouding3\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/bouding4\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/bouding5\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n&lt;/animation-list&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>绑定中 使用帧动画，默认配置使用5帧，即：bouding1.png、bouding2.png、bouding3.png、bouding4.png、bouding5.png</li>\n<li>图片分辨率：392x276</li>\n</ul>\n<p>3.<strong>失败 动画</strong>（bind_failed_anim.xml），代码如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n    根标签为animation-list，其中oneshot代表着是否只展示一遍，设置为false会不停的循环播放动画\n    根标签下，通过item标签对动画中的每一个图片进行声明\n    android:duration 表示展示所用的该图片的时间长度\n --&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n    &lt;item\n        android:drawable=\"@drawable/failed1\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/failed2\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n&lt;/animation-list&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>扫描中 使用帧动画，默认配置使用2帧，即：failed1.png和failed2.png</li>\n<li>图片分辨率:203x306</li>\n</ul>\n<p>4.<strong>成功 动画</strong>（bind_sucess_anim.xml），代码如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n    根标签为animation-list，其中oneshot代表着是否只展示一遍，设置为false会不停的循环播放动画\n    根标签下，通过item标签对动画中的每一个图片进行声明\n    android:duration 表示展示所用的该图片的时间长度\n --&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n    &lt;item\n        android:drawable=\"@drawable/sucess1\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/sucess2\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n&lt;/animation-list&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>扫描中 使用帧动画，默认配置使用2帧，即：sucess1.png和sucess2.png</li>\n<li>图片分辨率:203x306</li>\n</ul>\n<h3 id=\"网络请求loadding图标配置\"><a href=\"#网络请求loadding图标配置\" class=\"headerlink\" title=\"网络请求loadding图标配置\"></a>网络请求loadding图标配置</h3><p>在主工程<strong>res/drawable</strong>下分别新建<strong>bind_network_waiting.xml</strong>资源文件。<br>代码如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n\n    &lt;item\n        android:drawable=\"@drawable/load1\"\n        android:duration=\"200\" /&gt;\n    &lt;item\n        android:drawable=\"@drawable/load2\"\n        android:duration=\"200\" /&gt;\n\n&lt;/animation-list&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>网络请求loadding 使用帧动画，默认配置使用2帧，即：load1.png和load2.png</li>\n<li>图片分辨率:126x126</li>\n</ul>\n<p>缺省配置如图2：</p>\n<img src=\"/post/public-bind/loading.png\" class=\"\" title=\"img1\">\n<p><strong>图2</strong></p>\n<h3 id=\"下拉列表Header动画配置\"><a href=\"#下拉列表Header动画配置\" class=\"headerlink\" title=\"下拉列表Header动画配置\"></a>下拉列表Header动画配置</h3><p>在主工程<strong>res/drawable</strong>下分别新建<strong>bind_droplistview_anim.xml</strong>资源文件。<br>代码如下：</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n    根标签为animation-list，其中oneshot代表着是否只展示一遍，设置为false会不停的循环播放动画\n    根标签下，通过item标签对动画中的每一个图片进行声明\n    android:duration 表示展示所用的该图片的时间长度\n --&gt;\n&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:oneshot=\"false\"&gt;\n    &lt;item\n        android:drawable=\"@drawable/list1\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/list2\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/list3\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/list4\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n    &lt;item\n        android:drawable=\"@drawable/list5\"\n        android:duration=\"150\"&gt;&lt;/item&gt;\n&lt;/animation-list&gt;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>下拉列表Header动画 使用帧动画，默认配置使用5帧，即：list1.png、list2.png、list3.png、list4.png、list5.png</li>\n<li>图片分辨率:72x72</li>\n</ul>\n<p>缺省配置如图3：</p>\n<img src=\"/post/public-bind/droplist.png\" class=\"\" title=\"img1\">\n<p><strong>图3</strong></p>\n","text":"由于公共模块绑定满足不了TOB项目以及其他项目特殊需求，现对公共模块绑定界面的资源做成可配置，本文介绍一下哪些资源可配置以及如何配置。 颜色配置 颜色的配置需要在res/values，res/values-v14，res/values-v19，res/values-v21等目录下...","link":"","photos":[],"count_time":{"symbolsCount":"5.3k","symbolsTime":"5 mins."},"categories":[{"name":"IoT","slug":"IoT","count":4,"path":"api/categories/IoT.json"}],"tags":[{"name":"het","slug":"het","count":1,"path":"api/tags/het.json"},{"name":"智能家居","slug":"智能家居","count":2,"path":"api/tags/智能家居.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A2%9C%E8%89%B2%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">颜色配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%91%E5%AE%9A%E5%8A%A8%E7%94%BB%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">绑定动画配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82loadding%E5%9B%BE%E6%A0%87%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">网络请求loadding图标配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%8B%E6%8B%89%E5%88%97%E8%A1%A8Header%E5%8A%A8%E7%94%BB%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">下拉列表Header动画配置</span></a></li></ol>","author":{"name":"uuxia","slug":"blog-author","avatar":"/medias/avatar.jpg","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>欢迎光临</b>","socials":{"github":"https://github.com/xxl6097","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"baidu":{"icon":"https://himg.bdimg.com/sys/portrait/item/public.1.868e95ea.DjJabcwawzIP0jmepO6KfQ.jpg","link":"https://www.baidu.com/my/index"}}}},"mapped":true,"prev_post":{"title":"喜马拉雅WiFi音响绑定及通讯协议初稿","uid":"285ed5b1fb2c878a0e222864d60850e2","slug":"ximalaya","date":"2016-05-11T14:54:48.000Z","updated":"2022-02-22T10:16:43.640Z","comments":true,"path":"api/articles/ximalaya.json","cover":[],"text":"喜马拉雅WiFi音响绑定及通讯协议初稿 通讯协议 0x5A 数据长度 框架版本 协议类型 设备编码 Mac地址 数据帧序列号 保留字 数据类型 数据内容 检验码FCS 1字节 2字节 1字节 1字节 8字节 6字节 4字节 8字节 2字节 N字节 2字节 通讯Json格式：{ \"...","link":"","photos":[],"count_time":{"symbolsCount":"9.5k","symbolsTime":"9 mins."},"categories":[{"name":"IoT","slug":"IoT","count":4,"path":"api/categories/IoT.json"}],"tags":[{"name":"Andorid","slug":"Andorid","count":2,"path":"api/tags/Andorid.json"},{"name":"智能家居","slug":"智能家居","count":2,"path":"api/tags/智能家居.json"},{"name":"喜马拉雅","slug":"喜马拉雅","count":1,"path":"api/tags/喜马拉雅.json"}],"author":{"name":"uuxia","slug":"blog-author","avatar":"/medias/avatar.jpg","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>欢迎光临</b>","socials":{"github":"https://github.com/xxl6097","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"baidu":{"icon":"https://himg.bdimg.com/sys/portrait/item/public.1.868e95ea.DjJabcwawzIP0jmepO6KfQ.jpg","link":"https://www.baidu.com/my/index"}}}}},"next_post":{"title":"CentOS下shadowsocks-libev一键安装脚本","uid":"6200c77510ad300acf3ce5a135ddab22","slug":"installshadowsocks","date":"2016-05-10T21:23:03.000Z","updated":"2022-06-15T07:50:07.979Z","comments":true,"path":"api/articles/installshadowsocks.json","cover":null,"text":"一键安装 libev 版的 shadowsocks 最新版本。该版本的特点是内存占用小（600k左右），低 CPU 消耗，甚至可以安装在基于 OpenWRT 的路由器上。友情提示：如果你有问题，请先参考这篇《Shadowsocks Troubleshooting》后再问。 系统要...","link":"","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"VPN","slug":"VPN","count":3,"path":"api/categories/VPN.json"},{"name":"shadowsocks","slug":"shadowsocks","count":2,"path":"api/categories/shadowsocks.json"},{"name":"centos6","slug":"centos6","count":1,"path":"api/categories/centos6.json"}],"tags":[{"name":"shadowsocks","slug":"shadowsocks","count":4,"path":"api/tags/shadowsocks.json"},{"name":"科学上网","slug":"科学上网","count":2,"path":"api/tags/科学上网.json"},{"name":"centos6","slug":"centos6","count":1,"path":"api/tags/centos6.json"}],"author":{"name":"uuxia","slug":"blog-author","avatar":"/medias/avatar.jpg","link":"/","description":"一位正在重塑知识的技术人 <br /> @ <b>欢迎光临</b>","socials":{"github":"https://github.com/xxl6097","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"baidu":{"icon":"https://himg.bdimg.com/sys/portrait/item/public.1.868e95ea.DjJabcwawzIP0jmepO6KfQ.jpg","link":"https://www.baidu.com/my/index"}}}}}}